会员后台查询list后，根据会员状态，发送请求到operate接口来批量取消会员

前端传递PremiumMemberIds和OperationType

Service层实现：

首先同样调用CheckAdminForCurrentLoggedInUser检查用户有无管理员权限

通过PremiumMemberIds查询出会员实体集合

遍历会员实体集合，如果包含状态为已过期的会员则抛出异常，批量操作失败

switch根据传递的OperationType决定取消会员或取消续订



取消会员：

批量更新会员集合的到期日期为现在，状态为已过期

筛选出连续包月的会员取消自动续费：

批量更新会员实体的NextRenewalDate为null和PremiumMemberFeeType从连续包月修改为月费

遍历每个会员实体生成取消续费的记录并插入数据库

根据用户id查询相关的会员定时任务记录

_yamimealBackgroundJobClientProvider.DeleteJob(premiumMemberJobRecord.JobId) 删除相关的任务



取消续费：

同上
